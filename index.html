<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NCK Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="theme-color" content="#0f172a" />
  </head>
  <body class="min-h-screen bg-slate-950 text-slate-100">
    <div class="mx-auto w-full max-w-5xl px-4 py-10">
      <header class="mb-8">
        <div class="flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between">
          <div>
            <h1 class="text-2xl font-semibold tracking-tight">Daily Calculator</h1>
            <p class="text-sm text-slate-300">Units, cash, and quick deductions — updates instantly as you type.</p>
          </div>
          <div class="text-xs text-slate-400">
            Tip: leave fields empty (treated as 0)
          </div>
        </div>
      </header>

      <main class="grid grid-cols-1 gap-6 lg:grid-cols-2">
        <!-- Units -->
        <section class="rounded-2xl border border-slate-800 bg-slate-900/60 p-5 shadow-sm backdrop-blur">
          <div class="mb-4 flex items-center justify-between gap-3">
            <div>
              <h2 class="text-lg font-semibold">Unit Management</h2>
              <p class="text-sm text-slate-300">Enter today’s unit amounts.</p>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
            <label class="block">
              <span class="mb-1 block text-sm text-slate-300">Batman</span>
              <input id="unit_batman" inputmode="decimal" type="number" step="any" placeholder="0"
                class="w-full rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2 text-slate-100 outline-none ring-0 placeholder:text-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20" />
            </label>
            <label class="block">
              <span class="mb-1 block text-sm text-slate-300">Buffalo</span>
              <input id="unit_buffalo" inputmode="decimal" type="number" step="any" placeholder="0"
                class="w-full rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2 text-slate-100 outline-none ring-0 placeholder:text-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20" />
            </label>
            <label class="block">
              <span class="mb-1 block text-sm text-slate-300">555mix</span>
              <input id="unit_555mix" inputmode="decimal" type="number" step="any" placeholder="0"
                class="w-full rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2 text-slate-100 outline-none ring-0 placeholder:text-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20" />
            </label>
            <label class="block">
              <span class="mb-1 block text-sm text-slate-300">Moung556</span>
              <input id="unit_moung556" inputmode="decimal" type="number" step="any" placeholder="0"
                class="w-full rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2 text-slate-100 outline-none ring-0 placeholder:text-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20" />
            </label>
          </div>

          <div class="mt-5 flex items-center justify-between rounded-xl border border-slate-800 bg-slate-950/30 px-4 py-3">
            <div class="text-sm text-slate-300">Total Unit</div>
            <div class="text-xl font-semibold tabular-nums" id="total_unit">0</div>
          </div>
        </section>

        <!-- Cash -->
        <section class="rounded-2xl border border-slate-800 bg-slate-900/60 p-5 shadow-sm backdrop-blur">
          <div class="mb-4 flex items-center justify-between gap-3">
            <div>
              <h2 class="text-lg font-semibold">Cash Management</h2>
              <p class="text-sm text-slate-300">Enter today’s cash amounts.</p>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
            <label class="block">
              <span class="mb-1 block text-sm text-slate-300">NCK Wave</span>
              <input id="cash_nck_wave" inputmode="decimal" type="number" step="any" placeholder="0"
                class="w-full rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2 text-slate-100 outline-none ring-0 placeholder:text-slate-600 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20" />
            </label>
            <label class="block">
              <span class="mb-1 block text-sm text-slate-300">MHH Kpay</span>
              <input id="cash_mhh_kpay" inputmode="decimal" type="number" step="any" placeholder="0"
                class="w-full rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2 text-slate-100 outline-none ring-0 placeholder:text-slate-600 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20" />
            </label>
            <label class="block">
              <span class="mb-1 block text-sm text-slate-300">NZM Kpay</span>
              <input id="cash_nzm_kpay" inputmode="decimal" type="number" step="any" placeholder="0"
                class="w-full rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2 text-slate-100 outline-none ring-0 placeholder:text-slate-600 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20" />
            </label>
            <label class="block">
              <span class="mb-1 block text-sm text-slate-300">KTS Kpay</span>
              <input id="cash_kts_kpay" inputmode="decimal" type="number" step="any" placeholder="0"
                class="w-full rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2 text-slate-100 outline-none ring-0 placeholder:text-slate-600 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20" />
            </label>
            <label class="block">
              <span class="mb-1 block text-sm text-slate-300">KTS Wave</span>
              <input id="cash_kts_wave" inputmode="decimal" type="number" step="any" placeholder="0"
                class="w-full rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2 text-slate-100 outline-none ring-0 placeholder:text-slate-600 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20" />
            </label>
            <label class="block">
              <span class="mb-1 block text-sm text-slate-300">AYA</span>
              <input id="cash_aya" inputmode="decimal" type="number" step="any" placeholder="0"
                class="w-full rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2 text-slate-100 outline-none ring-0 placeholder:text-slate-600 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20" />
            </label>
          </div>

          <div class="mt-5 flex items-center justify-between rounded-xl border border-slate-800 bg-slate-950/30 px-4 py-3">
            <div class="text-sm text-slate-300">Total Cash</div>
            <div class="text-xl font-semibold tabular-nums" id="total_cash">0</div>
          </div>
        </section>

        <!-- Calculations -->
        <section class="lg:col-span-2 rounded-2xl border border-slate-800 bg-slate-900/60 p-5 shadow-sm backdrop-blur">
          <div class="mb-4">
            <h2 class="text-lg font-semibold">Calculations &amp; Deductions</h2>
            <p class="text-sm text-slate-300">Subtract manual amounts from totals.</p>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
            <div class="rounded-2xl border border-slate-800 bg-slate-950/30 p-4">
              <div class="flex items-start justify-between gap-4">
                <div>
                  <div class="text-sm font-medium text-slate-200">Calculation 1</div>
                  <div class="mt-1 text-xs text-slate-400">(Total Unit − Manual)</div>
                </div>
                <div class="text-right">
                  <div class="text-xs text-slate-400">Result</div>
                  <div class="text-2xl font-semibold tabular-nums" id="calc_unit_result">0</div>
                </div>
              </div>
              <div class="mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2">
                <div class="rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2">
                  <div class="text-xs text-slate-400">Total Unit</div>
                  <div class="mt-1 text-base font-semibold tabular-nums" id="calc_total_unit">0</div>
                </div>
                <label class="block">
                  <span class="mb-1 block text-xs text-slate-400">Manual input to subtract</span>
                  <input id="unit_manual_subtract" inputmode="decimal" type="number" step="any" placeholder="0"
                    class="w-full rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2 text-slate-100 outline-none placeholder:text-slate-600 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20" />
                </label>
              </div>
            </div>

            <div class="rounded-2xl border border-slate-800 bg-slate-950/30 p-4">
              <div class="flex items-start justify-between gap-4">
                <div>
                  <div class="text-sm font-medium text-slate-200">Calculation 2</div>
                  <div class="mt-1 text-xs text-slate-400">(Total Cash − Manual)</div>
                </div>
                <div class="text-right">
                  <div class="text-xs text-slate-400">Result</div>
                  <div class="text-2xl font-semibold tabular-nums" id="calc_cash_result">0</div>
                </div>
              </div>
              <div class="mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2">
                <div class="rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2">
                  <div class="text-xs text-slate-400">Total Cash</div>
                  <div class="mt-1 text-base font-semibold tabular-nums" id="calc_total_cash">0</div>
                </div>
                <label class="block">
                  <span class="mb-1 block text-xs text-slate-400">Manual input to subtract</span>
                  <input id="cash_manual_subtract" inputmode="decimal" type="number" step="any" placeholder="0"
                    class="w-full rounded-xl border border-slate-800 bg-slate-950/40 px-3 py-2 text-slate-100 outline-none placeholder:text-slate-600 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20" />
                </label>
              </div>
            </div>
          </div>
        </section>
      </main>

      <footer class="mt-10 text-center text-xs text-slate-500">
        NCK Calculator — single page, works offline after first load.
      </footer>
    </div>

    <script>
      function parseNumber(value) {
        if (value === "" || value == null) return 0;
        const n = Number(value);
        return Number.isFinite(n) ? n : 0;
      }

      function formatNumber(n) {
        // Keep it clean: up to 2 decimals, but don't force trailing zeros.
        const rounded = Math.round((n + Number.EPSILON) * 100) / 100;
        return rounded.toLocaleString(undefined, { maximumFractionDigits: 2 });
      }

      const unitIds = ["unit_batman", "unit_buffalo", "unit_555mix", "unit_moung556"];
      const cashIds = ["cash_nck_wave", "cash_mhh_kpay", "cash_nzm_kpay", "cash_kts_kpay", "cash_kts_wave", "cash_aya"];

      const els = {
        totalUnit: document.getElementById("total_unit"),
        totalCash: document.getElementById("total_cash"),
        calcTotalUnit: document.getElementById("calc_total_unit"),
        calcTotalCash: document.getElementById("calc_total_cash"),
        unitManual: document.getElementById("unit_manual_subtract"),
        cashManual: document.getElementById("cash_manual_subtract"),
        calcUnitResult: document.getElementById("calc_unit_result"),
        calcCashResult: document.getElementById("calc_cash_result"),
      };

      function sumInputs(ids) {
        return ids.reduce((acc, id) => {
          const el = document.getElementById(id);
          return acc + parseNumber(el ? el.value : 0);
        }, 0);
      }

      function recalc() {
        const totalUnit = sumInputs(unitIds);
        const totalCash = sumInputs(cashIds);

        els.totalUnit.textContent = formatNumber(totalUnit);
        els.totalCash.textContent = formatNumber(totalCash);

        els.calcTotalUnit.textContent = formatNumber(totalUnit);
        els.calcTotalCash.textContent = formatNumber(totalCash);

        const unitResult = totalUnit - parseNumber(els.unitManual.value);
        const cashResult = totalCash - parseNumber(els.cashManual.value);

        els.calcUnitResult.textContent = formatNumber(unitResult);
        els.calcCashResult.textContent = formatNumber(cashResult);
      }

      function wireRealtime(ids) {
        ids.forEach((id) => {
          const el = document.getElementById(id);
          if (!el) return;
          el.addEventListener("input", recalc);
        });
      }

      wireRealtime(unitIds);
      wireRealtime(cashIds);
      els.unitManual.addEventListener("input", recalc);
      els.cashManual.addEventListener("input", recalc);

      recalc();
    </script>
  </body>
</html>

